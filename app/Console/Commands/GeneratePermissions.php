<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use Illuminate\Support\Facades\Route;
use Spatie\Permission\Models\Permission;
use Spatie\Permission\Models\Role;

class GeneratePermissions extends Command
{
    protected $signature = 'permissions:generate';

    protected $description = 'Generate permissions dynamically based on controller function names';

    public function handle()
    {
        $permissions = [
            'home',
            'category_list_view',
            'sub_category_list_view',
            'category_add',
            'category_edit',
            'product_list_view',
            'product_add',
            'product_edit',
            'stock_list_view',
            'stock2_list_view',
            'stock3_list_view',
            'order_reorder',
            'order_add',
            'offer_order_list_view',
            'pending_order_list_view',
            'processing_order_list_view',
            'delivery_order_list_view',
            'completed_order_list_view',
            'returned_order_list_view',
            'deleted_order_list_view',
            'order_edit',
            'order_print',
            'file_list_view',
            'file_add',
            'file_edit',
            'project_list_view',
            'project_add',
            'project_edit',
            'course_list_view',
            'course_add',
            'course_edit',
            'course_student_list_view',
            'course_student_add',
            'course_student_payment_list_view',
            'course_add_student',
            'course_student_edit',
            'dept_list_view',
            'dept_add',
            'dept_edit',
            'outlay_list_view',
            'outlay_add',
            'outlay_edit',
            'customs_statement_list_view',
            'customs_statement_add',
            'customs_statement_edit',
            'receipt_list_view',
            'receipt_add',
            'receipt_edit',
            'receipt_print',
            'order_report_print',
            'order_report',
            'product_report',
            'stock_report',
            'need_report',
            'outlay_report_print',
            'outlay_report',
            'purchases_report',
            'debts_report',
            'zemam_report',
            'custom_statement_report',
            'product_sale_per_product_report',
            'product_sale_report',
            'exempt_invoice_report',
            'delivery_invoice_report',
            'mailer_setting',
            'city_list_view',
            'city_add',
            'city_edit',
            'shipping_provider_list_view',
            'shipping_provider_add',
            'shipping_provider_edit',
            'ui_element_typography_list_view',
            'color_list_view',
            'icons_react_feather_list_view',
            'cards_statistics_list_view',
            'cards_analytics_list_view',
            'cards_action_list_view',
            'components_alerts_list_view',
            'components_auto_complete_list_view',
            'components_avatar_list_view',
            'components_badges_list_view',
            'components_block_ui_list_view',
            'components_breadcrumbs_list_view',
            'components_buttons_list_view',
            'components_carousel_list_view',
            'components_collapse_list_view',
            'components_divider_list_view',
            'components_dropdowns_list_view',
            'components_list_group_list_view',
            'components_media_objects_list_view',
            'components_modals_list_view',
            'components_nav_component_list_view',
            'components_pagination_list_view',
            'components_pill_badges_list_view',
            'components_pills_component_list_view',
            'components_popovers_list_view',
            'components_progress_list_view',
            'components_spinners_list_view',
            'components_tabs_component_list_view',
            'components_timeline_list_view',
            'components_toasts_list_view',
            'components_tooltips_list_view',
            'user_list_view',
            'user_add',
            'user_edit',
            'coupon_list_view',
            'coupon_add',
            'coupon_edit',
            'article_list_view',
            'article_add',
            'article_edit',
            'slide_list_view',
            'slide_add',
            'slide_edit',
            'promotion_list_view',
            'promotion_add',
            'promotion_edit',
            'user_delete',
            'user_send_verification_email',
            'category_delete',
            'product_delete',
            'stock_save',
            'stock_available',
            'stock_normal_price',
            'stock_sale_price',
            'stock_real_price',
            'stock_dist_price',
            'stock2_minimum_quantity',
            'stock2_mikro_sku',
            'stock2_source_sku',
            'stock2_save',
            'city_delete',
            'shipping_provider_delete',
            'article_delete',
            'coupon_delete',
            'promotion_delete',
            'slide_delete',
            'file_delete',
            'project_delete',
            'course_delete',
            'receipt_delete',
            'dept_delete',
            'outlay_delete',
            'customs_statement_delete',
            'course_delete_student',
            'user_show_super',
            'user_show_admin',
            'user_add_admin',
            'user_add_super',
            'order_completed_update_status',
            'order_returned_update_status',
            'order_deleted_update_status',
            'untaxed_list_view'

        ];
        $managerPermissions = [
            'home',
            'product_list_view',
            'product_add',
            'product_edit',
            'stock_list_view',
            'order_reorder',
            'order_add',
            'offer_order_list_view',
            'pending_order_list_view',
            'processing_order_list_view',
            'delivery_order_list_view',
            'completed_order_list_view',
            'returned_order_list_view',
            'deleted_order_list_view',
            'order_edit',
            'order_print',
            'file_list_view',
            'file_add',
            'file_edit',
            'dept_list_view',
            'dept_add',
            'dept_edit',
            'outlay_list_view',
            'outlay_add',
            'outlay_edit',
            'customs_statement_list_view',
            'customs_statement_add',
            'customs_statement_edit',
            'receipt_list_view',
            'receipt_add',
            'receipt_edit',
            'receipt_print',
            'order_report_print',
            'order_report',
            'stock_report',
            'outlay_report_print',
            'outlay_report',
            'purchases_report',
            'debts_report',
            'custom_statement_report',
            'exempt_invoice_report',
            'city_list_view',
            'city_add',
            'city_edit',
            'shipping_provider_list_view',
            'shipping_provider_add',
            'shipping_provider_edit',
            'user_list_view',
            'user_edit',
            'coupon_list_view',
            'coupon_add',
            'coupon_edit',
            'article_list_view',
            'article_add',
            'article_edit',
            'slide_list_view',
            'slide_add',
            'slide_edit',
            'promotion_list_view',
            'promotion_add',
            'promotion_edit',
            'user_send_verification_email',
            'product_delete',
            'stock_save',
            'stock_available',
            'stock_normal_price',
            'stock_sale_price',
            'stock_dist_price',
            'city_delete',
            'shipping_provider_delete',
            'article_delete',
            'coupon_delete',
            'promotion_delete',
            'slide_delete',
            'file_delete',
            'receipt_delete',
            'dept_delete',
            'outlay_delete',
            'customs_statement_delete',
            'course_delete_student'
        ];
        $cashierPermissions = [
            'home',
            'order_reorder',
            'order_add',
            'offer_order_list_view',
            'pending_order_list_view',
            'processing_order_list_view',
            'delivery_order_list_view',
            'completed_order_list_view',
            'returned_order_list_view',
            'deleted_order_list_view',
            'order_edit',
            'order_print',
        ];
        $productManagerPermissions = [
            'home',
            'product_list_view',
            'product_add',
            'product_edit',
            'stock_list_view',
            'product_delete',
            'stock_save',
            'stock_available',
            'stock_normal_price',
            'stock_sale_price',
            'stock_dist_price',
        ];
        $adminCashpermissions = [
            'home',
            'product_list_view',
            'product_add',
            'product_edit',
            'stock_list_view',
            'order_reorder',
            'order_add',
            'offer_order_list_view',
            'pending_order_list_view',
            'processing_order_list_view',
            'delivery_order_list_view',
            'completed_order_list_view',
            'returned_order_list_view',
            'deleted_order_list_view',
            'order_edit',
            'order_print',
            'file_list_view',
            'file_add',
            'file_edit',
            'project_list_view',
            'project_add',
            'project_edit',
            'course_list_view',
            'course_add',
            'course_edit',
            'course_student_list_view',
            'course_student_add',
            'course_student_payment_list_view',
            'course_add_student',
            'course_student_edit',
            'dept_list_view',
            'dept_add',
            'dept_edit',
            'outlay_list_view',
            'outlay_add',
            'outlay_edit',
            'customs_statement_list_view',
            'customs_statement_add',
            'customs_statement_edit',
            'receipt_list_view',
            'receipt_add',
            'receipt_edit',
            'receipt_print',
            'order_report_print',
            'city_list_view',
            'city_add',
            'city_edit',
            'shipping_provider_list_view',
            'shipping_provider_add',
            'shipping_provider_edit',
            'coupon_list_view',
            'coupon_add',
            'coupon_edit',
            'article_list_view',
            'article_add',
            'article_edit',
            'slide_list_view',
            'slide_add',
            'slide_edit',
            'promotion_list_view',
            'promotion_add',
            'promotion_edit',
            'product_delete',
            'stock_save',
            'stock_available',
            'stock_normal_price',
            'stock_sale_price',
            'stock_dist_price',
            'city_delete',
            'shipping_provider_delete',
            'article_delete',
            'coupon_delete',
            'promotion_delete',
            'slide_delete',
            'file_delete',
            'project_delete',
            'course_delete',
            'receipt_delete',
            'dept_delete',
            'outlay_delete',
            'customs_statement_delete',
            'course_delete_student',
        ];
        foreach ($permissions as $permission){
            $perm =new Permission();
            $perm->name = $permission;
            $perm->guard_name = 'web';
            $perm->save();
        }
        $superRole = Role::where('name', 'super')->first();
        $superRole->syncPermissions($permissions);
        $adminRole = Role::where('name', 'admin')->first();
        $adminRole->syncPermissions($permissions);
        $managerRole = Role::where('name', 'Manager')->first();
        $managerRole->syncPermissions($managerPermissions);
        $cashierRole = Role::where('name', 'Cashier')->first();
        $cashierRole->syncPermissions($cashierPermissions);
        $productManagerRole = Role::where('name', 'Product Manager')->first();
        $productManagerRole->syncPermissions($productManagerPermissions);
        $adminCashRole = Role::where('name', 'Admin cash')->first();
        $adminCashRole->syncPermissions($adminCashpermissions);
    }
}
